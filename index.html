<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nettbank</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined|Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Views -->
        <main id="view-container">
            <!-- Pay Details View (Replaces generic modal) -->
            <section id="view-pay-details" class="view">
                <header class="top-bar">
                    <button class="btn-icon" onclick="app.goBack()"><span class="material-icons-round">arrow_back</span></button>
                    <h1>Betal</h1>
                    <div class="camera-icon"><span class="material-icons-round">photo_camera</span></div>
                </header>
                <div class="content center-content" style="justify-content: flex-start; padding-top: 20px;">
                    <div class="menu-group" style="width: 100%;">
                        <div class="menu-item payment-row">
                            <span class="label">Fra</span>
                            <div class="value-group">
                                <span class="value" id="pay-from-display">Visakort bulder (21 208,14)</span>
                                <span class="material-icons-round arrow">chevron_right</span>
                            </div>
                        </div>
                        <div class="menu-item payment-row">
                            <span class="label">Til</span>
                            <div class="value-group">
                                <span class="value" id="pay-to-display">Sparekonto (521 182,00)</span>
                                <span class="material-icons-round arrow">chevron_right</span>
                            </div>
                        </div>
                        <div class="menu-item payment-row">
                            <span class="label">Melding</span>
                            <div class="value-group">
                                <span class="value text-blue">Legg til</span>
                                <span class="material-icons-round arrow text-blue">chevron_right</span>
                            </div>
                        </div>
                        <div class="menu-item payment-row">
                            <span class="label">Dato</span>
                            <div class="value-group">
                                <span class="value">I dag</span>
                                <span class="material-icons-round arrow text-red">chevron_right</span>
                            </div>
                        </div>
                    </div>

                    <div class="amount-input-container">
                        <input type="number" id="pay-amount-large" value="1" class="big-amount-input">
                        <span class="currency-label">kr</span>
                    </div>

                    <div class="pay-action-container">
                        <button class="btn-swipe" onclick="app.processPayment()">
                            <span class="material-icons-round">double_arrow</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Pay Success View -->
            <section id="view-pay-success" class="view geometric-bg">
                <div class="content center-content" style="height: 100%; color: white;">
                    <div class="success-icon-container">
                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                            <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                            <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                        </svg>
                    </div>
                    <h1 style="font-size: 32px; margin-top: 20px;">Penger spart!</h1>
                    <p style="color: rgba(255,255,255,0.6); margin-top: 10px;">Vi tar det herfra</p>

                    <button class="btn-primary" style="margin-top: auto; margin-bottom: 40px; width: 200px; background-color: var(--primary-blue);" onclick="app.closeSuccess()">Lukk</button>
                </div>

                <!-- Feedback Modal -->
                <div id="feedback-modal" class="modal-overlay hidden">
                    <div class="modal-content-bottom">
                        <button class="close-btn" onclick="app.closeFeedback()"><span class="material-icons-round">close</span></button>
                        <h2>Hva synes du om appen?</h2>
                        <p>Vi bygger Bulder for deg, med deg.</p>
                        <div class="feedback-options">
                            <div class="feedback-item">
                                <span class="emoji">üòû</span>
                                <span>Misforn√∏yd</span>
                            </div>
                            <div class="feedback-item">
                                <span class="emoji">üòê</span>
                                <span>N√∏ytral</span>
                            </div>
                            <div class="feedback-item">
                                <span class="emoji">üòÅ</span>
                                <span>Forn√∏yd</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Login View -->
            <section id="view-login" class="view active" style="z-index: 1000; background-color: var(--bg-color);">
                <div class="content center-content" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
                    <div class="logo-large" style="margin-bottom: 60px;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="120" height="120">
                            <path d="M150 350 L250 250 L350 350 L420 280 L250 110 L80 280 Z" fill="#ff5e5e"/>
                            <path d="M250 250 L350 350 L420 280 L320 180 Z" fill="#ff4444"/>
                        </svg>
                    </div>
                    
                    <div id="login-state-initial" style="width: 100%; max-width: 320px; padding: 0 20px;">
                        <div class="input-group" style="margin-bottom: 20px;">
                            <label style="display:block; color: #a0a4b0; margin-bottom: 8px; font-size: 14px;">Mobilnummer ‚Ä¢ F√∏dselsnr.</label>
                            <input type="tel" value="" placeholder="12345678" style="width: 100%; padding: 15px; border-radius: 12px; background: #1c2235; border: 1px solid #2b3a55; color: white; font-size: 16px; outline: none;">
                        </div>
                        <div class="input-group" style="margin-bottom: 30px;">
                            <label style="display:block; color: #a0a4b0; margin-bottom: 8px; font-size: 14px;">Passord</label>
                            <input type="password" value="" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%; padding: 15px; border-radius: 12px; background: #1c2235; border: 1px solid #2b3a55; color: white; font-size: 16px; outline: none;">
                        </div>
                        <button class="btn-primary" style="width: 100%; padding: 15px; font-size: 18px; border-radius: 30px; margin-top: 10px;" onclick="app.startLogin()">
                            Logg inn
                        </button>
                        <div style="text-align: center; margin-top: 25px;">
                            <span style="color: var(--primary-blue); font-weight: 500;">Bli kunde</span>
                        </div>
                    </div>

                    <!-- FaceID Removed per user request -->
                </div>
            </section>

            <!-- Hjem View -->
            <section id="view-hjem" class="view">
                <header class="top-bar">
                    <div class="profile-icon" onclick="app.navigateTo('view-profile')"><span class="material-icons-round">person</span></div>
                    <h1>Hjem</h1>
                    <div class="search-icon"><span class="material-icons-round">search</span></div>
                </header>
                <div class="content scrollable">
                    <!-- Cards will go here -->
                    <div class="card info-card">
                        <h2>Nasjonal oppdatering p√• efaktura</h2>
                        <p>Slipp √• f√• faktura i posten</p>
                        <button class="btn-primary small">Oppdater</button>
                    </div>

                    <div class="section-header">
                        <span>Mine penger (<span id="total-balance">21 209</span>)</span>
                        <span class="material-icons-round">arrow_forward</span>
                    </div>

                    <div class="card account-card" onclick="app.openAccount('21208')">
                        <div class="account-icon red-icon">
                            <span class="material-icons-round">credit_card</span>
                        </div>
                        <div class="account-details">
                            <h3>Visakort bulder</h3>
                            <span class="subtext">7 601 √• bruke</span>
                        </div>
                        <div class="account-balance">
                            <span class="amount">21 208</span>
                            <span class="icon"><span class="material-icons-round">payment</span></span>
                        </div>
                    </div>

                    <div class="card account-card" onclick="app.openAccount('1')">
                        <div class="account-icon red-icon">
                            <span class="material-icons-round">account_balance_wallet</span>
                        </div>
                        <div class="account-details">
                            <h3>Konto 2</h3>
                            <span class="subtext">1 √• bruke</span>
                        </div>
                        <div class="account-balance">
                            <span class="amount">1</span>
                        </div>
                    </div>

                    <div class="card spending-card">
                        <h3>Pengebruk</h3>
                        <div class="spending-amount">
                            <span class="red-text">55 672 kr</span>
                            <span class="subtext">av 17 039</span>
                        </div>
                        <div class="spending-circles">
                            <div class="circle red"><span class="material-icons-outlined">shopping_cart</span></div>
                            <div class="circle dark"><span class="material-icons-outlined">home</span></div>
                            <div class="circle red"><span class="material-icons-outlined">sports_esports</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Spare View -->
            <section id="view-spare" class="view">
                <header class="top-bar">
                    <div class="profile-icon" onclick="app.navigateTo('view-profile')"><span class="material-icons-round">person</span></div>
                    <h1>Spare</h1>
                    <div class="add-icon"><span class="material-icons-round">add</span></div>
                </header>
                <div class="content scrollable">
                    <div class="total-saved">
                        <span class="label">Totalt</span>
                        <span class="amount-large">565 775</span>
                    </div>
                    
                    <div class="savings-summary">
                        <span>Sparekontoer</span>
                        <div class="summary-right">
                            <span>565 775</span>
                            <span class="green-text">1 175 kr</span>
                        </div>
                    </div>

                    <div class="savings-list">
                        <!-- Sparekonto Card -->
                        <div class="card savings-card" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1460317442991-0ec209397118?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                            <h3>Sparekonto</h3>
                            <div class="savings-progress">
                                <span>521 182 / 550 000 kr</span>
                                <span>94 %</span>
                            </div>
                            <div class="progress-bar">
                                <div class="fill" style="width: 94%"></div>
                            </div>
                        </div>

                         <!-- Husleie Card -->
                         <div class="card savings-card" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1486325212027-8081e485255e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                            <h3>Husleie</h3>
                            <div class="savings-progress">
                                <span>8 606 / 100 000 kr</span>
                                <span>8 %</span>
                            </div>
                            <div class="progress-bar">
                                <div class="fill" style="width: 8%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Betale View -->
            <section id="view-betale" class="view">
                <header class="top-bar">
                    <div class="profile-icon" onclick="app.navigateTo('view-profile')"><span class="material-icons-round">person</span></div>
                    <h1>Betale</h1>
                    <div class="camera-icon"><span class="material-icons-round">photo_camera</span></div>
                </header>
                <div class="content scrollable">
                    <div class="menu-group">
                        <div class="menu-item" onclick="app.navigateTo('view-pay-details')">
                            <span class="icon"><span class="material-icons-round" style="transform: rotate(-45deg);">send</span></span>
                            <span class="text">Betale og overf√∏re</span>
                        </div>
                        <div class="menu-item">
                            <span class="icon"><span class="material-icons-round">public</span></span>
                            <span class="text">Utenlandsbetaling</span>
                        </div>
                    </div>

                    <div class="menu-group">
                        <div class="menu-item">
                            <span class="icon italic">e</span>
                            <span class="text">eFaktura</span>
                        </div>
                        <div class="menu-item">
                            <span class="icon bold">A</span>
                            <span class="text">AvtaleGiro</span>
                        </div>
                        <div class="menu-item" onclick="app.navigateTo('view-forfall')">
                            <span class="icon"><span class="material-icons-round">event_note</span></span>
                            <span class="text">Forfallsoversikt</span>
                        </div>
                    </div>

                    <div class="menu-group">
                        <div class="menu-item" onclick="app.navigateTo('view-faste-oppdrag')">
                            <span class="icon"><span class="material-icons-round" style="transform: rotate(-45deg);">call_made</span></span>
                            <span class="text">Faste oppdrag</span>
                        </div>
                        <div class="menu-item">
                            <span class="icon"><span class="material-icons-round" style="transform: rotate(-45deg);">call_made</span></span>
                            <span class="text">Abonnement</span>
                        </div>
                        <div class="menu-item" onclick="app.navigateTo('view-mottakere')">
                            <span class="icon"><span class="material-icons-round">contact_page</span></span>
                            <span class="text">Mottakere</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bolig View (Placeholder) -->
            <section id="view-bolig" class="view">
                <header class="top-bar">
                    <h1>Bolig</h1>
                </header>
                <div class="content center-content">
                    <p>Her kommer boliginformasjon</p>
                </div>
            </section>

             <!-- Bulder View (Placeholder) -->
             <section id="view-bulder" class="view">
                <header class="top-bar">
                    <h1>Bulder</h1>
                </header>
                <div class="content center-content">
                    <p>Bulder profil</p>
                </div>
            </section>

            <!-- Profile/Admin View -->
            <section id="view-profile" class="view">
                <header class="top-bar">
                    <button class="btn-icon" onclick="app.goBack()"><span class="material-icons-round">arrow_back</span></button>
                    <h1>Profil</h1>
                    <div style="width: 40px;"></div>
                </header>
                <div class="content scrollable">
                    <div class="card center-content" style="padding: 30px;">
                        <div class="profile-icon" style="width: 80px; height: 80px; margin: 0 auto 20px auto;">
                            <span class="material-icons-round" style="font-size: 40px;">person</span>
                        </div>
                        <h2>Filmcrew Bruker</h2>
                        <p>KundeID: 1234567</p>
                    </div>

                    <div class="card">
                        <div class="section-header">
                            <span>Film-modus Innstillinger</span>
                        </div>
                        <p style="margin-bottom: 20px;">Her kan du justere saldo p√• kontoene for √• matche scenen.</p>
                        
                        <div class="input-group">
                            <label>Saldo: Visakort bulder</label>
                            <input type="number" id="admin-balance-1" value="21208">
                        </div>

                        <div class="input-group">
                            <label>Saldo: Konto 2</label>
                            <input type="number" id="admin-balance-2" value="1">
                        </div>

                        <button class="btn-primary" style="width: 100%; padding: 15px;" onclick="app.updateBalances()">Oppdater Saldo</button>
                    </div>

                    <div class="card">
                         <div class="menu-item">
                            <span class="icon"><span class="material-icons-round">settings</span></span>
                            <span class="text">Innstillinger</span>
                        </div>
                        <div class="menu-item" onclick="app.logout()">
                            <span class="icon"><span class="material-icons-round">logout</span></span>
                            <span class="text">Logg ut</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Forfallsoversikt View -->
            <section id="view-forfall" class="view">
                <header class="top-bar">
                    <button class="btn-icon" onclick="app.goBack()"><span class="material-icons-round">arrow_back</span></button>
                    <h1>Forfallsoversikt</h1>
                    <div style="width: 40px;"></div>
                </header>
                <div class="content scrollable">
                    <div class="card">
                        <div class="section-header">
                            <span>I dag</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <div style="display:flex; flex-direction:column;">
                                <span style="font-weight:500;">Netflix</span>
                                <span class="subtext">Fra Visakort bulder</span>
                            </div>
                            <span class="red-text">-159 kr</span>
                        </div>
                    </div>
                    <div class="card">
                        <div class="section-header">
                            <span>20.02.2024</span>
                        </div>
                        <div style="display:flex; justify-content:space-between; padding: 10px 0;">
                            <div style="display:flex; flex-direction:column;">
                                <span style="font-weight:500;">Husleie</span>
                                <span class="subtext">Fra Visakort bulder</span>
                            </div>
                            <span class="red-text">-8 500 kr</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Faste Oppdrag View -->
            <section id="view-faste-oppdrag" class="view">
                <header class="top-bar">
                    <button class="btn-icon" onclick="app.goBack()"><span class="material-icons-round">arrow_back</span></button>
                    <h1>Faste oppdrag</h1>
                    <div class="add-icon"><span class="material-icons-round">add</span></div>
                </header>
                <div class="content scrollable">
                    <div class="card">
                        <div style="display:flex; align-items:center; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                            <div class="account-icon" style="background: rgba(255,255,255,0.1); color: white; margin-right: 15px;">
                                <span class="material-icons-round">home</span>
                            </div>
                            <div>
                                <h3>Husleie</h3>
                                <p>8 500 kr - Den 20. hver m√•ned</p>
                            </div>
                        </div>
                         <div style="display:flex; align-items:center; padding: 10px 0;">
                            <div class="account-icon" style="background: rgba(255,255,255,0.1); color: white; margin-right: 15px;">
                                <span class="material-icons-round">savings</span>
                            </div>
                            <div>
                                <h3>Sparing</h3>
                                <p>2 000 kr - Den 12. hver m√•ned</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mottakere View -->
            <section id="view-mottakere" class="view">
                <header class="top-bar">
                    <button class="btn-icon" onclick="app.goBack()"><span class="material-icons-round">arrow_back</span></button>
                    <h1>Mottakere</h1>
                    <div class="add-icon"><span class="material-icons-round">add</span></div>
                </header>
                <div class="content scrollable">
                    <div class="input-group">
                        <input type="text" placeholder="S√∏k etter mottaker" style="padding: 12px; font-size: 16px;">
                    </div>
                    <div class="card" style="padding: 0;">
                        <div style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display:flex; align-items:center;">
                            <span class="material-icons-round" style="margin-right:15px; background:rgba(255,255,255,0.1); padding:8px; border-radius:50%;">person</span>
                            <span style="font-size:16px;">Mamma</span>
                        </div>
                        <div style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display:flex; align-items:center;">
                            <span class="material-icons-round" style="margin-right:15px; background:rgba(255,255,255,0.1); padding:8px; border-radius:50%;">person</span>
                            <span style="font-size:16px;">Pappa</span>
                        </div>
                        <div style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display:flex; align-items:center;">
                            <span class="material-icons-round" style="margin-right:15px; background:rgba(255,255,255,0.1); padding:8px; border-radius:50%;">home_work</span>
                            <span style="font-size:16px;">Huseier</span>
                        </div>
                        <div style="padding: 20px; display:flex; align-items:center;">
                            <span class="material-icons-round" style="margin-right:15px; background:rgba(255,255,255,0.1); padding:8px; border-radius:50%;">electric_bolt</span>
                            <span style="font-size:16px;">Str√∏mleverand√∏r AS</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Account Detail View -->
            <section id="view-account-details" class="view" style="z-index: 50;">
                <header class="top-bar">
                    <button class="btn-icon" onclick="app.goBack()"><span class="material-icons-round">arrow_back</span></button>
                    <div class="search-icon"><span class="material-icons-round">search</span></div>
                </header>
                <div class="content scrollable">
                    <div class="account-header-details">
                        <h2 id="acc-detail-name">Visakort bulder</h2>
                        <span class="subtext" id="acc-detail-id">3610.71.65864</span>
                        <div class="acc-balance-large">
                            <span id="acc-detail-balance">21 208</span> <span class="currency">kr</span>
                        </div>
                    </div>

                    <div class="action-buttons-row">
                        <div class="action-btn" onclick="app.showPaymentModal()">
                            <div class="icon-circle"><span class="material-icons-round" style="transform: rotate(-45deg);">send</span></div>
                            <span>Betale</span>
                        </div>
                        <div class="action-btn">
                            <div class="icon-circle"><span class="material-icons-round">search</span></div>
                            <span>S√∏k</span>
                        </div>
                        <div class="action-btn">
                            <div class="icon-circle"><span class="material-icons-round">more_horiz</span></div>
                            <span>Mer</span>
                        </div>
                    </div>

                    <div class="transaction-history-controls">
                        <button class="btn-pill active"><span class="material-icons-round">arrow_left</span> Historikk</button>
                        <button class="btn-pill">Fremover <span class="material-icons-round">arrow_right</span></button>
                    </div>

                    <div class="transaction-list">
                        <div class="month-header">
                            <span>JANUAR</span>
                            <span>+611</span>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="trans-icon"><span class="material-icons-round">local_parking</span></div>
                            <div class="trans-info">
                                <h4>EasyPark</h4>
                                <span class="subtext">I dag 06:02</span>
                            </div>
                            <div class="trans-amount">
                                <span class="negative">-74</span>
                                <span class="status-tag">Reservert</span>
                            </div>
                        </div>

                        <div class="transaction-item">
                            <div class="trans-icon"><span class="material-icons-round">savings</span></div>
                            <div class="trans-info">
                                <h4>Til Sparekonto BB</h4>
                                <span class="subtext">I g√•r</span>
                            </div>
                            <div class="trans-amount">
                                <span class="negative">-2 000</span>
                            </div>
                        </div>

                        <div class="transaction-item">
                            <div class="trans-icon"><span class="material-icons-round">savings</span></div>
                            <div class="trans-info">
                                <h4>Til Sparekonto BB</h4>
                                <span class="subtext">I g√•r</span>
                            </div>
                            <div class="trans-amount">
                                <span class="negative">-1 200</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Payment Modal/Overlay -->
            <div id="payment-modal" class="modal hidden">
                <div class="modal-header">
                    <button class="btn-icon" onclick="app.hidePaymentModal()"><span class="material-icons-round">close</span></button>
                    <h2>Ny betaling</h2>
                    <div style="width: 24px;"></div>
                </div>
                <div class="modal-content">
                    <div class="input-group">
                        <label>Fra konto</label>
                        <select id="pay-from">
                            <option value="21208">Visakort bulder (21 208 kr)</option>
                            <option value="1">Konto 2 (1 kr)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Til (navn eller kontonummer)</label>
                        <input type="text" id="pay-to" placeholder="1234.56.78903">
                    </div>
                    <div class="input-group">
                        <label>Bel√∏p</label>
                        <input type="number" id="pay-amount" placeholder="0,00">
                    </div>
                    <div class="input-group">
                        <label>Melding / KID</label>
                        <input type="text" id="pay-msg" placeholder="Valgfritt">
                    </div>
                    <button class="btn-large-primary" onclick="app.processPayment()">Betal</button>
                </div>
            </div>
            
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="#" class="nav-item active" data-target="view-hjem">
                <span class="icon material-icons-round">play_arrow</span>
                <span class="label">Hjem</span>
            </a>
            <a href="#" class="nav-item" data-target="view-spare">
                <span class="icon material-icons-round">savings</span>
                <span class="label">Spare</span>
            </a>
            <a href="#" class="nav-item" data-target="view-betale">
                <span class="icon material-icons-round" style="transform: rotate(-45deg);">send</span> <!-- Using send as substitute for logo -->
                <span class="label">Betale</span>
            </a>
            <a href="#" class="nav-item" data-target="view-bolig">
                <span class="icon material-icons-round">home</span>
                <span class="label">Bolig</span>
            </a>
            <a href="#" class="nav-item" data-target="view-bulder">
                <span class="icon material-icons-round">flash_on</span>
                <span class="label">Bulder</span>
            </a>
        </nav>
    </div>
    <script src="script.js"></script>
</body>
</html>
